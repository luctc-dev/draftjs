{"version":3,"sources":["examples/ContentState.tsx","examples/CreateContentState.tsx","examples/SelectionState.tsx","routers.ts","examples/Simple.tsx","examples/Entity.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["getJsonString","editorState","contentState","getCurrentContent","rawJson","Draft","convertToRaw","jsonStr","JSON","stringify","plainText","getPlainText","jsonObject","getJsonSelectionString","selectionState","getSelection","anchorKey","getAnchorKey","anchorOffset","getAnchorOffset","focusKey","getFocusKey","focusOffset","getFocusOffset","isBackwards","getIsBackward","jsonSelectionState","path","text","component","useState","EditorState","createEmpty","setEditorState","gutter","span","orientation","className","onChange","newEditorState","isJsonView","setIsJsonView","onClick","shape","type","icon","EyeOutlined","Search","size","enterButton","defaultValue","onSearch","ContentState","createFromText","createWithContent","html","convertFromHTML","contentBlocks","entityMap","createFromBlockArray","convertFromRaw","width","visible","onOk","onCancel","onFinish","values","newSelection","merge","forceSelection","handleSetSelection","parseInt","Item","name","placeholder","htmlType","retrievedData","selectionKey","getStartKey","contentstate","entityKey","getBlockForKey","getEntityAt","getStartOffset","getEntity","getData","storedText","getEntityAtCursor","data","mutabilaty","createEntity","getLastCreatedEntityKey","newContentState","Modifier","applyEntity","push","handleSetEntity","initialValues","Option","value","color","Header","Layout","Sider","Content","App","state","collapsed","toggle","setState","pathname","this","props","location","trigger","collapsible","to","theme","mode","defaultSelectedKeys","selectedKeys","ROUTERS","map","o","key","style","padding","MenuUnfoldOutlined","MenuFoldOutlined","src","process","alt","React","Component","withRouter","Boolean","window","hostname","match","ReactDOM","render","basename","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.8e24ba28.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport Draft, { Editor, EditorState } from 'draft-js';\nimport { Row, Col, Divider } from 'antd';\n\nexport function getJsonString(editorState: EditorState) {\n  const contentState = editorState.getCurrentContent();\n  const rawJson = Draft.convertToRaw(contentState); // This is important\n  const jsonStr = JSON.stringify(rawJson, null, 1);\n  const plainText = contentState.getPlainText();\n\n  return {\n    jsonStr,\n    plainText\n  };\n}\n\nexport default function ContentState() {\n\n  const [editorState, setEditorState] = useState(\n    EditorState.createEmpty()\n  );\n\n  function handleOnChange(newEditorState: EditorState) {\n    setEditorState(newEditorState);\n  }\n\n  const { jsonStr, plainText } = getJsonString(editorState);\n  return (\n    <Row gutter={30}>\n      <Col span={24}>\n        <h1>Content state</h1>\n        <p>The ContentState object represents</p>\n        <ul>\n          <li>text in an array of blocks.</li>\n          <li>Entities (metadata that accompanies some text)</li>\n        </ul>\n        <p>In this sample you can observe what happens when you type some text. The resulting JSON can be stored in a database to recreate the ContentState at a later stage The content within a ContentState can be retrieved as follows:</p>\n      </Col>\n      <Col span={12}>\n\n        <Divider orientation=\"left\">Editor</Divider>\n\n        <div className=\"editor\">\n          <Editor\n            editorState={editorState}\n            onChange={handleOnChange}\n          />\n        </div>\n\n        <Divider orientation=\"left\">Plaintext retrieve from contentState</Divider>\n        <p>{plainText}</p>\n\n      </Col>\n\n      <Col span={12}>\n        <Divider orientation=\"left\">Json View</Divider>\n        <pre>{jsonStr}</pre>\n      </Col>\n\n    </Row>\n  );\n}","import React, { useState } from 'react';\nimport Draft, { Editor, EditorState } from 'draft-js';\nimport { Row, Col, Divider, Input, Button, Modal } from 'antd';\nimport { EyeOutlined } from '@ant-design/icons';\nimport { getJsonString } from './ContentState';\n\nconst jsonObject = {\n\t\"entityMap\": {},\n\t\"blocks\": [\n\t\t{\n\t\t\t\"key\": \"5h45l\",\n\t\t\t\"text\": \"the quick brown fox jumps over the lazy dog \",\n\t\t\t\"type\": \"unstyled\",\n\t\t\t\"depth\": 0,\n\t\t\t\"inlineStyleRanges\": [\n\t\t\t\t{\n\t\t\t\t\t\"offset\": 4,\n\t\t\t\t\t\"length\": 5,\n\t\t\t\t\t\"style\": \"ITALIC\"\n\t\t\t\t},\n\t\t\t\n\t\t\t\t{\n\t\t\t\t\t\"offset\": 10,\n\t\t\t\t\t\"length\": 5,\n\t\t\t\t\t\"style\": \"UNDERLINE\"\n\t\t\t\t},\n\t\t\t   {\n\t\t\t\t\t\"offset\": 16,\n\t\t\t\t\t\"length\": 3,\n\t\t\t\t\t\"style\": \"BOLD\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"entityRanges\": [],\n\t\t\t\"data\": {}\n\t\t}\n\t]\n}\n\n// console.log(Draft.DefaultDraftInlineStyle);\n\nexport default function ContentState() {\n  const [isJsonView, setIsJsonView] = useState(false);\n  const [editorState, setEditorState] = useState(\n    EditorState.createEmpty()\n  );\n  \n  function handleOnChange(newEditorState: EditorState) {\n    setEditorState(newEditorState);\n  }\n\n  function createWithPlainText(text: string) {\n    const contentState = Draft.ContentState.createFromText(text);\n    const newEditorState = Draft.EditorState.createWithContent(contentState);\n    setEditorState(newEditorState);\n  }\n\n  function createWithHTML(html: string) {\n    const { contentBlocks, entityMap } = Draft.convertFromHTML(html);\n    const contentState = Draft.ContentState.createFromBlockArray(contentBlocks, entityMap);\n    const newEditorState = Draft.EditorState.createWithContent(contentState);\n    setEditorState(newEditorState);\n  }\n\n  function createWithJsonObject() {\n    const contentState = Draft.convertFromRaw(jsonObject as Draft.RawDraftContentState);\n    const newEditorState = Draft.EditorState.createWithContent(contentState);\n    setEditorState(newEditorState);\n  }\n\n  return (\n    <Row gutter={30}>\n      <Col span={24}>\n        <h1>Creating content</h1>\n        <p>There will be times when we want to initiate an Edit control with text. To do this we must first create a new content state. There are a few ways to do this.</p>\n        <ul>\n          <li>plain text</li>\n          <li>HTML</li>\n          <li>a JSON object</li>\n        </ul>\n      </Col>\n\n      <Col span={12}>\n\n        <Divider \n          orientation=\"left\">\n            Editor \n            <Button onClick={() => setIsJsonView(true)} shape=\"circle\" type=\"primary\" icon={<EyeOutlined />} />\n        </Divider>\n\n        <div className=\"editor\">\n          <Editor\n            editorState={editorState}\n            onChange={handleOnChange}\n          />\n        </div>\n\n        {/* Create EditorState from the plain text */}\n        <Divider orientation=\"left\">Create from PlainText</Divider>\n        <Input.Search \n          size=\"large\" \n          enterButton=\"Create with text\"\n          defaultValue=\"This is a plain string of text\"\n          onSearch={createWithPlainText}\n        />\n\n        {/* Create EditorState from the HTML text */}\n        <Divider orientation=\"left\">Create from HTML</Divider>\n        <Input.Search \n          size=\"large\" \n          enterButton=\"Create with HTML\"\n          defaultValue=\"<h1>Header</h1> <b>Bold text</b>, <i>Italic text</i><br/ ><br />\"\n          onSearch={createWithHTML}\n        />\n\n        {/* Create EditorState from the Json Object */}\n        <Divider orientation=\"left\">Create from Json Object</Divider>\n        <Input.Search \n          size=\"large\"\n          className=\"json-object-input\"\n          enterButton=\"Create with JSON\"\n          defaultValue=\"See json in document on the right side\"\n          onSearch={createWithJsonObject}\n        />\n\n      </Col>\n\n      <Col span={12}>\n        <Divider orientation=\"left\">Json Document</Divider>\n        <pre>{JSON.stringify(jsonObject, null, 1)}</pre>\n      </Col>\n      \n\n      <Modal\n        width=\"600px\"\n        visible={isJsonView}\n        className=\"modal-json-view\"\n        onOk={() => setIsJsonView(false)}\n        onCancel={() => setIsJsonView(false)}\n      >\n        <pre>{getJsonString(editorState).jsonStr}</pre>\n      </Modal>\n    </Row>\n  );\n}","import React, { useState } from 'react';\nimport Draft, { Editor, EditorState } from 'draft-js';\nimport { EyeOutlined } from '@ant-design/icons';\nimport { Row, Col, Divider, Modal, Button, Input, Form } from 'antd';\nimport { getJsonString } from './ContentState';\n\nexport function getJsonSelectionString(editorState: EditorState) {\n  // the editorState has a getSelection() method to get the selection\n  const selectionState = editorState.getSelection();\n\n  // Sample of some data we can get from the selection state\n  const anchorKey = selectionState.getAnchorKey();\n  const anchorOffset = selectionState.getAnchorOffset();\n  const focusKey = selectionState.getFocusKey();\n  const focusOffset = selectionState.getFocusOffset();\n\n  const isBackwards = selectionState.getIsBackward();\n\n  const jsonStr = {\n    anchorKey,\n    anchorOffset,\n    focusKey,\n    focusOffset,\n    isBackwards\n  }\n\n  return {\n    jsonSelectionState: JSON.stringify(jsonStr, null, 1)\n  };\n}\n\nexport default function SelectionState() {\n  const [isJsonView, setIsJsonView] = useState(false);\n  const [editorState, setEditorState] = useState(() => {\n    const contentState = Draft.ContentState.createFromText('SelectionState represents the cursor, its position and what it is selecting. You can use selection to manipulate text such as inserting or deleting.');\n    return Draft.EditorState.createWithContent(contentState);\n  });\n\n  function handleOnChange(newEditorState: EditorState) {\n    setEditorState(newEditorState);\n  }\n\n  function handleSetSelection(anchorOffset: number, focusOffset: number) {\n    const selectionState = editorState.getSelection();\n\n    // We cannot set the selection state directly because its immutable.\n    // So make a copy  \n    const newSelection = selectionState.merge({\n      anchorOffset,\n      focusOffset,\n    }) as Draft.SelectionState;\n\n    // Draft API helper set the selection into a new editorState\n    const newEditorState = Draft.EditorState.forceSelection(editorState, newSelection);\n\n    // update the editorState \n    setEditorState(newEditorState);\n  }\n\n\n  function onSubmitForm(values: any) {\n    const anchorOffset = parseInt(values.anchorOffset || 0) || 0;\n    const focusOffset = parseInt(values.focusOffset || 0) || 0;\n\n    handleSetSelection(anchorOffset, focusOffset);\n  }\n\n  const { jsonSelectionState } = getJsonSelectionString(editorState);\n  return (\n    <Row gutter={30}>\n      {/* Introduction */}\n      <Col span={24}>\n        <h1>Selection editorState</h1>\n        <p>SelectionState represents the cursor, its position and what it is selecting. You can use selection to manipulate text such as inserting or deleting.</p>\n      </Col>\n\n      {/* Demo Editor */}\n      <Col span={12}>\n\n        <Divider\n          orientation=\"left\">\n          Editor\n            <Button onClick={() => setIsJsonView(true)} shape=\"circle\" type=\"primary\" icon={<EyeOutlined />} />\n        </Divider>\n\n        {/* Editor Draft-Js  */}\n        <div className=\"editor\">\n          <Editor\n            editorState={editorState}\n            onChange={handleOnChange}\n          />\n        </div>\n\n        <Divider orientation=\"left\">Set Selection by offset</Divider>\n        <Form onFinish={onSubmitForm} >\n          <Row gutter={30}>\n            {/* Anchor Offset Input */}\n            <Col span={12}>\n              <Form.Item name=\"anchorOffset\">\n                <Input size=\"large\" placeholder=\"Enter anchorOffset\" type=\"number\" />\n              </Form.Item>\n            </Col>\n\n            {/* Focus Offset Input */}\n            <Col span={12}>\n              <Form.Item name=\"focusOffset\">\n                <Input size=\"large\" placeholder=\"Enter focusOffset\" type=\"number\"/>\n              </Form.Item>\n            </Col>\n\n            {/* Button Submit */}\n            <Col span={24}>\n              <Button type=\"primary\" htmlType=\"submit\" size=\"large\">Set Selection</Button>\n            </Col>\n          </Row>\n        </Form>\n\n      </Col>\n\n      {/* Json View Selection State */}\n      <Col span={12}>\n        <Divider orientation=\"left\">Json View Selection State</Divider>\n        <pre>{jsonSelectionState}</pre>\n      </Col>\n\n      <Modal\n        width=\"600px\"\n        visible={isJsonView}\n        className=\"modal-json-view\"\n        onOk={() => setIsJsonView(false)}\n        onCancel={() => setIsJsonView(false)}\n      >\n        <pre>{getJsonString(editorState).jsonStr}</pre>\n      </Modal>\n    </Row>\n  );\n}","import Simple from \"./examples/Simple\";\nimport ContentState from './examples/ContentState';\nimport CreateContentState from './examples/CreateContentState';\nimport SelectionState from './examples/SelectionState';\nimport Entity from './examples/Entity';\n// process.env.PUBLIC_URL -> homepage in package.json\nexport default [\n  {\n    path: '/simple',\n    text: 'Simple',\n    component: Simple\n  },\n  {\n    path: '/content-state',\n    text: 'ContentState',\n    component: ContentState\n  },\n  {\n    path: '/create-content-state',\n    text: 'Create ContentState',\n    component: CreateContentState\n  },\n  {\n    path: '/selection-state',\n    text: 'SelectionState',\n    component: SelectionState\n  },\n  {\n    path: '/entities',\n    text: 'Entities',\n    component: Entity\n  },\n]","import React, { useState } from 'react';\nimport { Editor, EditorState } from 'draft-js';\nimport { Row, Col, Divider } from 'antd';\n\n\nexport default function Simple() {\n  const [editorState, setEditorState] = useState(\n    EditorState.createEmpty()\n  );\n\n  function handleOnChange(newEditorState: EditorState) {\n    setEditorState(newEditorState);\n  }\n  \n  return (\n    <Row gutter={30}>\n      <Col span={12}>\n        <Divider orientation=\"left\">Editor</Divider>\n\n        {/* Controlled Contenteditable */}\n        <div className=\"editor\">\n          <Editor\n            editorState={editorState}\n            onChange={handleOnChange}\n          />\n        </div>\n\n      </Col>\n    </Row>\n  );\n}","import React, { useState } from 'react';\nimport Draft, { Editor, EditorState } from 'draft-js';\nimport { Row, Col, Divider, Form, Input, Button, Tag, Select } from 'antd';\nimport { getJsonString } from './ContentState';\nimport { getJsonSelectionString } from './SelectionState';\n\nfunction getEntityAtCursor(editorState: EditorState) {\n  const selectionState = editorState.getSelection();\n  const selectionKey = selectionState.getStartKey();\n  const contentstate = editorState.getCurrentContent();\n\n  // get the block where the cursor is\n  const block = contentstate.getBlockForKey(selectionKey);\n\n  // get the Entity key at the where the cursor is\n  const entityKey = block.getEntityAt(selectionState.getStartOffset());\n  \n  if (entityKey) {\n      // use the following method to get the entity instance\n      const entityInstance = contentstate.getEntity(entityKey);\n      const data = entityInstance.getData();\n      return data.storedText;\n  }\n\n  return '';\n}\n\nexport default function Entities() {\n  const [editorState, setEditorState] = useState(() => {\n    const contentState = Draft.ContentState.createFromText('I am a cat in french\\nI am walking on sunshine');\n    return Draft.EditorState.createWithContent(contentState);\n  });\n\n  function handleOnChange(newEditorState: EditorState) {\n    setEditorState(newEditorState);\n  }\n  \n  function handleSetEntity(data: string, mutabilaty: Draft.DraftEntityMutability = 'IMMUTABLE') {\n    const contentstate = editorState.getCurrentContent();\n  \n    // the entity is created from the content state and returns the actual entity\n    // we don't need the actual entity but we do need a key\n    contentstate.createEntity('myEntityIdentifier', mutabilaty, { storedText: data });\n  \n    // This is how we get the key\n    const entityKey = contentstate.getLastCreatedEntityKey();\n  \n    // get the current selection\n    const selectionState = editorState.getSelection();\n    \n    // associate the text in the selection (from - to) to the entety and get a new content state\n    const newContentState = Draft.Modifier.applyEntity(contentstate, selectionState, entityKey);\n  \n    // add the new content state to the existing editor state and return a new editorstate\n    const newEditorState = Draft.EditorState.push(editorState, newContentState, 'apply-entity');\n  \n    // update the Edit State\n    setEditorState(newEditorState);\n  }\n\n  function onSubmitForm(values: any) {\n    const data = values.data;\n    const mutabilaty = values.mutabilaty;\n\n    handleSetEntity(data, mutabilaty);\n  }\n\n  const { jsonStr } = getJsonString(editorState);\n  const retrievedData = getEntityAtCursor(editorState);\n  return (\n    <Row gutter={30}>\n      {/* Introduction */}\n      <Col span={24}>\n        <h1>Entities</h1>\n        <p>Entities allow you to store <strong>Metadata</strong> along with a section of text. The range of text is determined by a selection state</p>\n        <p>In the sample you can create an Entity by selecting a range of text and clicking the create entity button.</p>\n      </Col>\n\n      <Col span={12}>\n        <Divider orientation=\"left\">Editor</Divider>\n\n        {/* Controlled Contenteditable */}\n        <div className=\"editor\">\n          <Editor\n            editorState={editorState}\n            onChange={handleOnChange}\n          />\n        </div>\n\n        {/* Form create a entity */}\n        <Divider orientation=\"left\">Create an entity</Divider>\n        <Form onFinish={onSubmitForm} initialValues={{ data: '', mutabilaty: 'MUTABLE' }}>\n          <Row gutter={30}>\n            {/* Anchor Offset Input */}\n            <Col span={12}>\n              <Form.Item name=\"data\">\n                <Input size=\"large\" placeholder=\"Data string to save\" />\n              </Form.Item>\n            </Col>\n\n            {/* Focus Offset Input */}\n            <Col span={12}>\n              <Form.Item name=\"mutabilaty\">\n                <Select size=\"large\">\n                  <Select.Option value=\"MUTABLE\">MUTABLE</Select.Option>\n                  <Select.Option value=\"IMMUTABLE\">IMMUTABLE</Select.Option>\n                  <Select.Option value=\"SEGMENTED\">SEGMENTED</Select.Option>\n                </Select>\n              </Form.Item>\n            </Col>\n\n            {/* Button Submit */}\n            <Col span={12}>\n              <Button type=\"primary\" htmlType=\"submit\" size=\"large\">Set Selection</Button>\n            </Col>\n\n            {/* Retrieved Data based on selection state */}\n            <Col>\n              <h3>Retrieved Data { retrievedData && <Tag color=\"#87d068\">{retrievedData}</Tag> }</h3>\n            </Col>\n          </Row>\n        </Form>\n\n        {/* Json View of Selection State */}\n        <Divider orientation=\"left\">Json View Selection State</Divider>\n        <pre>{getJsonSelectionString(editorState).jsonSelectionState}</pre>\n      </Col>\n\n      <Col span={12}>\n        <Divider orientation=\"left\">Json View</Divider>\n        <pre>{jsonStr}</pre>\n      </Col>\n    </Row>\n  );\n}","import 'draft-js/dist/Draft.css';\nimport React from 'react';\nimport { withRouter } from \"react-router\";\nimport { Layout, Menu } from 'antd';\nimport {\n  MenuFoldOutlined,\n  MenuUnfoldOutlined,\n} from '@ant-design/icons';\nimport { Switch, Route, Link } from \"react-router-dom\";\n\nimport ROUTERS from './routers';\n\nconst { Header, Sider, Content } = Layout;\n\nclass App extends React.Component<any, any> {\n  state = {\n    collapsed: false,\n  };\n\n  toggle = () => {\n    this.setState({\n      collapsed: !this.state.collapsed,\n    });\n  };\n\n  render() {\n    const pathname = this.props.location?.pathname || '/simple';\n    return (\n      <Layout className=\"layout-custom\">\n        <Sider trigger={null} collapsible collapsed={this.state.collapsed}>\n          <Link to=\"/\"><div className=\"logo\" /></Link>\n          <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['/simple']} selectedKeys={[pathname]}>\n            {\n              ROUTERS.map(o => {\n                return <Menu.Item key={o.path}><Link to={o.path}>{o.text}</Link></Menu.Item>\n              })\n            }\n          </Menu>\n        </Sider>\n        <Layout className=\"site-layout\">\n          <Header className=\"site-layout-background\" style={{ padding: 0 }}>\n\n            {\n              this.state.collapsed\n                ? <MenuUnfoldOutlined className=\"trigger\" onClick={this.toggle} />\n                : <MenuFoldOutlined className=\"trigger\" onClick={this.toggle} />\n            }\n\n          </Header>\n          <Content className=\"site-layout-background site-layout-content\">\n            <Switch>\n\n              {\n                ROUTERS.map(o => {\n                  return (\n                    <Route path={o.path} key={o.path}>\n                      <o.component />\n                    </Route>\n                  )\n                })\n              }\n\n              <Route>\n                <img src={`${process.env.PUBLIC_URL}/editorstate.png`} alt=\"\" />\n              </Route>\n\n            </Switch>\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\n// @ts-ignore\nexport default withRouter(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Router basename=\"/draftjs\">\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}